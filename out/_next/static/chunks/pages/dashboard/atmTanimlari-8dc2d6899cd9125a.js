(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3728],{73303:function(e,t,n){var r=n(67206),i=n(67762);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):0}},95997:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/atmTanimlari",function(){return n(38665)}])},66723:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85893),i=n(45697),l=n.n(i),o=n(41664),a=n(15861),c=n(12963),s=n(87357),u=n(50122);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(e){var t=e.links,n=e.activeLast,i=void 0!==n&&n,l=f(e,["links","activeLast"]),o=t[t.length-1].name,u=t.map((function(e){return(0,r.jsx)(h,{link:e},e.name)})),x=t.map((function(e){return(0,r.jsx)("div",{children:e.name!==o?(0,r.jsx)(h,{link:e}):(0,r.jsx)(a.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:o})},e.name)}));return(0,r.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({separator:(0,r.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l,{children:i?u:x}))}function h(e){var t=e.link,n=t.href,i=void 0===n?"":n,l=t.name,a=t.icon;return(0,r.jsx)(o.default,{href:i,passHref:!0,children:(0,r.jsxs)(u.Z,{variant:"body2",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,r.jsx)(s.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),l]},l)})}x.propTypes={activeLast:l().bool,links:l().array.isRequired},h.propTypes={link:l().shape({href:l().string,icon:l().any,name:l().string})}},28729:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85893),i=n(45697),l=n.n(i),o=n(87357),a=n(15861),c=n(50122),s=n(66723);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(e){var t=e.links,n=e.action,i=e.heading,l=e.moreLink,u=void 0===l?[]:l,x=e.sx,h=f(e,["links","action","heading","moreLink","sx"]);return(0,r.jsxs)(o.Z,{sx:d({mb:5},x),children:[(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,r.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:i}),(0,r.jsx)(s.Z,d({links:t},h))]}),n&&(0,r.jsx)(o.Z,{sx:{flexShrink:0},children:n})]}),(0,r.jsx)(o.Z,{sx:{mt:2},children:"string"===typeof u?(0,r.jsx)(c.Z,{href:u,target:"_blank",variant:"body2",children:u}):u.map((function(e){return(0,r.jsx)(c.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}x.propTypes={links:l().array,action:l().node,heading:l().string.isRequired,moreLink:l().oneOfType([l().string,l().array]),sx:l().object}},45390:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},sQ:function(){return o},fQ:function(){return a}});var r=n(67294);function i(e){var t=(0,r.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),n=t[0],i=t[1],l=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),o=l[0],a=l[1],c=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),s=c[0],u=c[1],d=(0,r.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),f=d[0],x=d[1],h=(0,r.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),p=h[0],v=h[1],g=(0,r.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),m=g[0],j=g[1];return{dense:n,order:s,page:f,setPage:x,orderBy:o,rowsPerPage:p,selected:m,setSelected:j,onSelectRow:function(e){console.log(e);var t=m.indexOf(e),n=[];-1===t?n=n.concat(m,e):0===t?n=n.concat(m.slice(1)):t===m.length-1?n=n.concat(m.slice(0,-1)):t>0&&(n=n.concat(m.slice(0,t),m.slice(t+1))),j(n)},onSelectAllRows:function(e,t){j(e?t:[])},onSort:function(e){""!==e&&(u(o===e&&"asc"===s?"desc":"asc"),a(e))},onChangePage:function(e,t){x(t)},onChangeDense:function(e){i(e.target.checked)},onChangeRowsPerPage:function(e){v(parseInt(e.target.value,10)),x(0)}}}function l(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function o(e,t){return"desc"===e?function(e,n){return l(e,n,t)}:function(e,n){return-l(e,n,t)}}function a(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}},11300:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294);function i(e){var t=(0,r.useState)(e||""),n=t[0],i=t[1];return{currentTab:n,onChangeTab:function(e,t){i(t)},setCurrentTab:i}}},38665:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var r=n(85893),i=n(73303),l=n.n(i),o=n(67294),a=n(41664),c=n(11163),s=n(2734),u=n(27948),d=n(11057),f=n(66242),x=n(26447),h=n(67720),p=n(37023),v=n(40044),g=n(72882),m=n(34386),j=n(93946),b=n(7906),Z=n(295),y=n(87357),w=n(36125),S=n(50480),O=n(72852),P=n(58260),k=n(11300),D=n(73264),T=n(45390),C=n(31896),R=n(78545),E=n(81772),I=n(21238),N=n(96559),A=n(28729),F=n(2643),L=n(45697),B=n.n(L),_=n(98456),z=n(15861),W=n(52281);function M(e){var t=e.title,n=e.total,i=e.icon,l=e.color,o=e.percent,a=e.price;return(0,r.jsxs)(x.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,r.jsxs)(x.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,r.jsx)(I.Z,{icon:i,sx:{color:l,width:24,height:24,position:"absolute"}}),(0,r.jsx)(_.Z,{variant:"determinate",value:o,size:56,thickness:4,sx:{color:l,opacity:.48}}),(0,r.jsx)(_.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,r.jsxs)(x.Z,{spacing:.5,sx:{ml:2},children:[(0,r.jsx)(z.Z,{variant:"h6",children:t}),(0,r.jsxs)(z.Z,{variant:"subtitle2",children:[(0,W.v1)(n)," ",(0,r.jsx)(y.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:(0,r.jsx)(r.Fragment,{})})]}),(0,r.jsx)(z.Z,{variant:"subtitle2",sx:{color:l},children:a})]})]})}M.propTypes={title:B().string,color:B().string,icon:B().string,percent:B().number,price:B().number,total:B().number};var V=n(68509),H=n(53252),K=n(69368),Q=n(18972);n(68012);function q(e){var t=e.row,n=e.selected,i=e.onSelectRow,l=e.onViewRow,c=(e.onEditRow,e.onDeleteRow),u=(e.postTableData,e.setOpen),d=(e.open,(0,s.Z)(),t.NodeID),f=t.Name,h=t.Region,p=t.City,v=t.Town,g=t.DeviceSerial,m=t.Address,j=t.Lattitude,b=t.Longitude,Z=t.ManageBoxIP,y=(0,o.useState)(null),w=y[0],S=y[1],O=function(){S(null)};return(0,r.jsxs)(V.Z,{hover:!0,selected:n,children:[(0,r.jsx)(H.Z,{padding:"checkbox",children:(0,r.jsx)(K.Z,{checked:n,onClick:i})}),(0,r.jsx)(H.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.default,{noWrap:!0,variant:"body2",href:"/dashboard/details/".concat(d),sx:{color:"text.disabled",cursor:"pointer",align:"flex-start"},children:d})})}),(0,r.jsx)(H.Z,{align:"flex-start",children:g}),(0,r.jsx)(H.Z,{align:"flex-start",children:f}),(0,r.jsx)(H.Z,{align:"flex-start",children:h}),(0,r.jsx)(H.Z,{align:"flex-start",children:p}),(0,r.jsx)(H.Z,{align:"flex-start",sx:{textTransform:"capitalize"},children:v}),(0,r.jsx)(H.Z,{align:"flex-start",sx:{textTransform:"capitalize"},children:m}),(0,r.jsx)(H.Z,{align:"flex-start",sx:{textTransform:"capitalize"},children:j}),(0,r.jsx)(H.Z,{align:"flex-start",sx:{textTransform:"capitalize"},children:b}),(0,r.jsx)(H.Z,{align:"flex-start",sx:{textTransform:"capitalize"},children:Z}),(0,r.jsx)(H.Z,{align:"right",children:(0,r.jsx)(F.V7,{open:w,onOpen:function(e){S(e.currentTarget)},onClose:O,actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Q.Z,{onClick:function(){c(),O()},sx:{color:"error.main"},children:[(0,r.jsx)(I.Z,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,r.jsxs)(Q.Z,{onClick:function(){l(),O()},children:[(0,r.jsx)(I.Z,{icon:"eva:eye-fill"}),"View"]}),(0,r.jsxs)(Q.Z,{onClick:function(){return u(!0)},children:[(0,r.jsx)(I.Z,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}q.propTypes={row:B().object.isRequired,selected:B().bool,onSelectRow:B().func,onViewRow:B().func,onEditRow:B().func,onDeleteRow:B().func};var G=n(50135),X=n(87109);function $(e){var t=e.optionsService,n=(e.filterStartDate,e.filterEndDate,e.filterName,e.filterService),i=(e.onFilterName,e.onFilterService),l=(e.onFilterStartDate,e.onFilterEndDate,e.search),o=e.setSearch;return(0,r.jsxs)(x.Z,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[(0,r.jsx)(G.Z,{fullWidth:!0,select:!0,label:"Service type",value:n,onChange:i,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:160},textTransform:"capitalize"},children:t.map((function(e){return(0,r.jsx)(Q.Z,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)}))}),(0,r.jsx)(G.Z,{fullWidth:!0,value:l,onChange:function(e){return o(e.target.value)},placeholder:"Atm kodu veya atm ad\u0131 girin",InputProps:{startAdornment:(0,r.jsx)(X.Z,{position:"start",children:(0,r.jsx)(I.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]})}$.propTypes={filterName:B().string,filterService:B().string,filterEndDate:B().instanceOf(Date),filterStartDate:B().instanceOf(Date),onFilterName:B().func,onFilterEndDate:B().func,onFilterService:B().func,onFilterStartDate:B().func,optionsService:B().arrayOf(B().string)};var J=n(9669),U=n.n(J),Y=n(8100),ee=["all","full stack development","backend development","ui design","ui/ux design","front end development"],te=[{id:"invoiceNumber",label:"Atm Kodu",align:"left"},{id:"createDate",label:"Cihaz Seri No",align:"left"},{id:"dueDate",label:"Atm Ad\u0131",align:"left"},{id:"price",label:"B\xf6lge",align:"center",width:140},{id:"sent",label:"\u0130l",align:"center",width:140},{id:"status",label:"\u0130l\xe7e",align:"left"},{id:"status",label:"Adres",align:"left"},{id:"status",label:"Enlem",align:"left"},{id:"status",label:"Boylam",align:"left"},{id:"status",label:"MBX IP",align:"left"},{id:""}];function ne(){var e=(0,Y.ZP)("https://13.79.156.47:8002/services/GetReportTable?TableID=AtmLer",(function(e){return U().get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).put(e,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((function(e){return e.data}))})),t=e.data,n=(e.error,(0,s.Z)()),i=(0,D.Z)().themeStretch,C=(0,c.useRouter)();(0,o.useEffect)((function(){console.log(K)}),[K]);var L=(0,T.ZP)({defaultOrderBy:"createDate"}),B=L.dense,_=L.page,z=L.order,W=L.orderBy,V=L.rowsPerPage,H=L.setPage,K=L.selected,Q=L.setSelected,G=L.onSelectRow,X=L.onSelectAllRows,J=L.onSort,ne=L.onChangeDense,re=L.onChangePage,ie=L.onChangeRowsPerPage,le=(0,o.useState)(""),oe=le[0],ae=le[1],ce=(0,o.useState)("all"),se=ce[0],ue=ce[1],de=(0,o.useState)(null),fe=de[0],xe=de[1],he=(0,o.useState)(null),pe=he[0],ve=he[1],ge=(0,k.Z)("all"),me=ge.currentTab,je=ge.onChangeTab,be=function(e){t.filter((function(t){return t.id!==e}));Q([])},Ze=function(e){C.push(P.vB.invoice.edit(e))},ye=function(e){C.push("/dashboard/invoices?id=".concat(e))},we=function(e){var t=e.atmler,n=e.comparator,r=e.filterName,i=e.filterStatus,l=e.filterService,o=e.filterStartDate,a=e.filterEndDate,c=null===t||void 0===t?void 0:t.map((function(e,t){return[e,t]}));null===c||void 0===c||c.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=null===c||void 0===c?void 0:c.map((function(e){return e[0]})),r&&(t=null===t||void 0===t?void 0:t.filter((function(e){return-1!==e.Name.toLowerCase().indexOf(r.toLowerCase())||-1!==e.Name.toLowerCase().indexOf(r.toLowerCase())})));"all"!==i&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.status===i})));"all"!==l&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return e.service===l}))})));o&&a&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime()})));return t}({atmler:t,comparator:(0,T.sQ)(z,W),filterName:oe,filterService:se,filterStatus:me,filterStartDate:fe,filterEndDate:pe}),Se=B?56:76,Oe=function(e){return null===t||void 0===t?void 0:t.filter((function(t){return t.status===e})).length},Pe=function(e){return l()(null===t||void 0===t?void 0:t.filter((function(t){return t.status===e})),"totalPrice")},ke=function(e){return Oe(e)/t.length*100},De=[{value:"all",label:"All",color:"info",count:null===t||void 0===t?void 0:t.length},{value:"paid",label:"\xc7evirimi\xe7i",color:"success",count:Oe("paid")},{value:"unpaid",label:"Kurulmam\u0131\u015f",color:"warning",count:Oe("unpaid")},{value:"overdue",label:"\xc7evirimd\u0131\u015f\u0131",color:"error",count:Oe("overdue")}];return(0,r.jsx)(R.Z,{title:"Invoice: List",children:(0,r.jsxs)(u.Z,{maxWidth:!i&&"lg",children:[(0,r.jsx)(A.Z,{heading:"ATMLER ",links:[(0,r.jsx)(r.Fragment,{})],action:(0,r.jsx)(a.default,{href:P.vB.invoice.new,passHref:!0,children:(0,r.jsx)(d.Z,{variant:"contained",startIcon:(0,r.jsx)(I.Z,{icon:"eva:plus-fill"}),children:"ATM ekle"})})}),t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{sx:{mb:5},children:(0,r.jsx)(N.Z,{children:(0,r.jsxs)(x.Z,{direction:"row",divider:(0,r.jsx)(h.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,r.jsx)(M,{title:"Total",total:t.length,percent:100,price:l()(t,"totalPrice"),icon:"ic:round-receipt",color:n.palette.info.main}),(0,r.jsx)(M,{title:"\xc7evirimi\xe7i",total:Oe(t.IsActive),percent:ke(t.IsActive),price:Pe("paid"),icon:"eva:checkmark-circle-2-fill",color:n.palette.success.main}),(0,r.jsx)(M,{title:"Kurulmam\u0131\u015f",total:Oe("unpaid"),percent:ke("unpaid"),price:Pe("unpaid"),icon:"eva:clock-fill",color:n.palette.warning.main}),(0,r.jsx)(M,{title:"\xc7evirimd\u0131\u015f\u0131",total:Oe("overdue"),percent:ke("overdue"),price:Pe("overdue"),icon:"eva:bell-fill",color:n.palette.error.main})]})})}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(p.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:me,onChange:je,sx:{px:2,bgcolor:"background.neutral"},children:De.map((function(e){return(0,r.jsx)(v.Z,{disableRipple:!0,value:e.value,icon:(0,r.jsxs)(E.Z,{color:e.color,children:[" ",e.count," "]}),label:e.label},e.value)}))}),(0,r.jsx)(h.Z,{}),(0,r.jsx)($,{filterName:oe,filterService:se,filterStartDate:fe,filterEndDate:pe,onFilterName:function(e){ae(e),H(0)},onFilterService:function(e){ue(e.target.value)},onFilterStartDate:function(e){xe(e)},onFilterEndDate:function(e){ve(e)},optionsService:ee}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(g.Z,{sx:{minWidth:800,position:"relative"},children:[K.length>0&&(0,r.jsx)(F.Nl,{dense:B,numSelected:K.length,rowCount:t.length,onSelectAllRows:function(e){return X(e,t.map((function(e){return e.id})))},actions:(0,r.jsxs)(x.Z,{spacing:1,direction:"row",children:[(0,r.jsx)(m.Z,{title:"CSV",children:(0,r.jsx)(j.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"bi:filetype-csv"})})}),(0,r.jsx)(m.Z,{title:"PDF",children:(0,r.jsx)(j.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"codicon:file-pdf"})})}),(0,r.jsx)(m.Z,{title:"G\xfcncelle",children:(0,r.jsx)(j.Z,{color:"primary",children:(0,r.jsx)(I.Z,{icon:"clarity:update-line"})})}),(0,r.jsx)(m.Z,{title:"Sil",children:(0,r.jsx)(j.Z,{color:"error",onClick:function(){return e=K,t.filter((function(t){return!e.includes(t.id)})),void Q([]);var e},children:(0,r.jsx)(I.Z,{icon:"eva:trash-2-outline"})})})]})}),(0,r.jsxs)(b.Z,{size:B?"small":"medium",children:[(0,r.jsx)(F.K,{order:z,orderBy:W,headLabel:te,rowCount:t.length,numSelected:K.length,onSort:J,onSelectAllRows:function(e){return X(e,t.map((function(e){return e.id})))}}),t?(0,r.jsxs)(Z.Z,{children:[t.map((function(e){return(0,r.jsx)(q,{row:e,selected:K===e.NodeID,onSelectRow:G,onViewRow:ye,onEditRow:Ze,onDeleteRow:be},e.NodeID)})),(0,r.jsx)(F.$W,{height:Se,emptyRows:(0,T.fQ)(_,V,t.length)})]}):null]})]})}),(0,r.jsxs)(y.Z,{sx:{position:"relative"},children:[(0,r.jsx)(w.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:we.length,rowsPerPage:V,page:_,onPageChange:re,onRowsPerPageChange:ie}),(0,r.jsx)(S.Z,{control:(0,r.jsx)(O.Z,{checked:B,onChange:ne}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]}):null]})})}ne.getLayout=function(e){return(0,r.jsx)(C.Z,{children:e})}}},function(e){e.O(0,[3843,8607,285,659,65,2392,1896,2643,9774,2888,179],(function(){return t=95997,e(e.s=t);var t}));var t=e.O();_N_E=t}]);