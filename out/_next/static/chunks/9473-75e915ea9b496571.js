(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9473],{73303:function(e,t,n){var r=n(67206),i=n(67762);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):0}},45390:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},sQ:function(){return l},fQ:function(){return a}});var r=n(67294);function i(e){var t=(0,r.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),n=t[0],i=t[1],o=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),l=o[0],a=o[1],c=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),s=c[0],u=c[1],d=(0,r.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),f=d[0],p=d[1],h=(0,r.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||5),x=h[0],v=h[1],m=(0,r.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]),g=m[0],j=m[1];return{dense:n,order:s,page:f,setPage:p,orderBy:l,rowsPerPage:x,selected:g,setSelected:j,onSelectRow:function(e){var t=g.indexOf(e),n=[];-1===t?n=n.concat(g,e):0===t?n=n.concat(g.slice(1)):t===g.length-1?n=n.concat(g.slice(0,-1)):t>0&&(n=n.concat(g.slice(0,t),g.slice(t+1))),j(n)},onSelectAllRows:function(e,t){j(e?t:[])},onSort:function(e){""!==e&&(u(l===e&&"asc"===s?"desc":"asc"),a(e))},onChangePage:function(e,t){p(t)},onChangeDense:function(e){i(e.target.checked)},onChangeRowsPerPage:function(e){v(parseInt(e.target.value,10)),p(0)}}}function o(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function l(e,t){return"desc"===e?function(e,n){return o(e,n,t)}:function(e,n){return-o(e,n,t)}}function a(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}},59473:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var r=n(85893),i=n(73303),o=n.n(i),l=n(67294),a=n(11163),c=n(2734),s=n(27948),u=n(66242),d=n(26447),f=n(67720),p=n(37023),h=n(40044),x=n(72882),v=n(34386),m=n(93946),g=n(7906),j=n(295),Z=n(87357),b=n(36125),S=n(50480),w=n(72852),y=n(58260),D=n(11300),P=n(73264),C=n(45390),R=n(31896),k=n(78545),A=n(81772),T=n(21238),F=n(96559),N=n(28729),E=n(2643),O=n(45697),I=n.n(O),z=n(98456),B=n(15861),L=n(52281);function W(e){var t=e.title,n=e.total,i=e.icon,o=e.color,l=e.percent,a=e.price;return(0,r.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,r.jsxs)(d.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,r.jsx)(T.Z,{icon:i,sx:{color:o,width:24,height:24,position:"absolute"}}),(0,r.jsx)(z.Z,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:o,opacity:.48}}),(0,r.jsx)(z.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,r.jsxs)(d.Z,{spacing:.5,sx:{ml:2},children:[(0,r.jsx)(B.Z,{variant:"h6",children:t}),(0,r.jsxs)(B.Z,{variant:"subtitle2",children:[(0,L.v1)(n)," ",(0,r.jsx)(Z.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:(0,r.jsx)(r.Fragment,{})})]}),(0,r.jsx)(B.Z,{variant:"subtitle2",sx:{color:o},children:a})]})]})}W.propTypes={title:I().string,color:I().string,icon:I().string,percent:I().number,price:I().number,total:I().number};var M=n(68509),K=n(53252),Q=n(69368),V=(n(68012),n(41664));function _(e){var t=e.row,n=e.selected,i=e.onSelectRow,o=(e.onViewRow,e.onEditRow,e.onDeleteRow,e.postTableData,e.setOpen,e.open,(0,c.Z)(),t.NodeID),a=t.Name,s=t.IsOnline,u=t.AlarmStatus,f=t.Region,p=t.City,h=t.Town,x=(0,l.useState)(null);x[0],x[1];return(0,r.jsxs)(M.Z,{hover:!0,selected:n,children:[(0,r.jsx)(K.Z,{padding:"checkbox",children:(0,r.jsx)(Q.Z,{checked:n,onClick:i})}),(0,r.jsx)(K.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(V.default,{noWrap:!0,variant:"body2",href:"/dashboard/details/".concat(o),sx:{color:"text.disabled",cursor:"pointer"},children:o})})}),(0,r.jsx)(K.Z,{align:"left",children:a}),(0,r.jsx)(K.Z,{align:"left",children:s}),(0,r.jsx)(K.Z,{align:"left",children:u}),(0,r.jsx)(K.Z,{align:"center",children:f}),(0,r.jsx)(K.Z,{align:"center",sx:{textTransform:"capitalize"},children:p}),(0,r.jsx)(K.Z,{align:"center",sx:{textTransform:"capitalize"},children:h})]})}_.propTypes={row:I().object.isRequired,selected:I().bool,onSelectRow:I().func,onViewRow:I().func,onEditRow:I().func,onDeleteRow:I().func};var q=n(50135),G=n(18972),H=n(87109);function Y(e){var t=e.optionsService,n=(e.filterStartDate,e.filterEndDate,e.filterName,e.filterService),i=(e.onFilterName,e.onFilterService),o=(e.onFilterStartDate,e.onFilterEndDate,e.search),l=e.setSearch;return(0,r.jsxs)(d.Z,{spacing:2,direction:{xs:"column",md:"row"},sx:{py:2.5,px:3},children:[(0,r.jsx)(q.Z,{fullWidth:!0,select:!0,label:"Service type",value:n,onChange:i,SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:160},textTransform:"capitalize"},children:t.map((function(e){return(0,r.jsx)(G.Z,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)}))}),(0,r.jsx)(q.Z,{fullWidth:!0,value:o,onChange:function(e){return l(e.target.value)},placeholder:"Atm ad\u0131 veya Atm kodu girin..",InputProps:{startAdornment:(0,r.jsx)(H.Z,{position:"start",children:(0,r.jsx)(T.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})]})}Y.propTypes={filterName:I().string,filterService:I().string,filterEndDate:I().instanceOf(Date),filterStartDate:I().instanceOf(Date),onFilterName:I().func,onFilterEndDate:I().func,onFilterService:I().func,onFilterStartDate:I().func,optionsService:I().arrayOf(I().string)};var $=n(9669),J=n.n($),U=n(8100),X=n(99964),ee=function(e){var t=e.open,n=e.setOpen;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(X.Z,{open:t,onClose:function(){return n(!t)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(Z.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,r.jsx)(B.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Text in a modal"}),(0,r.jsx)(B.Z,{id:"modal-modal-description",sx:{mt:2},children:"Duis mollis, est non commodo luctus, nisi erat porttitor ligula."})]})})})},te=["all","full stack development","backend development","ui design","ui/ux design","front end development"],ne=[{id:"invoiceNumber",label:"Atm Kodu",align:"left"},{id:"createDate",label:"Atm Ad\u0131",align:"left"},{id:"dueDate",label:"\u0130zleme Durumu",align:"left"},{id:"price",label:"Alarm",align:"center",width:140},{id:"sent",label:"B\xf6lge",align:"center",width:140},{id:"status",label:"\u0130l",align:"left"},{id:"status",label:"\u0130l\xe7e",align:"left"}];function re(){var e=(0,U.ZP)("https://13.79.156.47:8002/services/GetReportTable?TableID=AtmLer",(function(e){return J().get(e,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then((function(e){return e.data}))})),t=e.data,n=(e.error,(0,c.Z)()),i=(0,P.Z)().themeStretch,R=(0,a.useRouter)(),O=(0,C.ZP)({defaultOrderBy:"createDate"}),I=O.dense,z=O.page,B=O.order,L=O.orderBy,M=O.rowsPerPage,K=O.setPage,Q=O.selected,V=O.setSelected,q=O.onSelectRow,G=O.onSelectAllRows,H=O.onSort,$=O.onChangeDense,X=O.onChangePage,re=O.onChangeRowsPerPage,ie=(0,l.useState)(""),oe=ie[0],le=ie[1],ae=(0,l.useState)(""),ce=ae[0],se=ae[1],ue=(0,l.useState)(!1),de=ue[0],fe=ue[1],pe=(0,l.useState)("all"),he=pe[0],xe=pe[1],ve=(0,l.useState)(null),me=ve[0],ge=ve[1],je=(0,l.useState)(null),Ze=je[0],be=je[1],Se=(0,l.useState)([]),we=Se[0],ye=Se[1],De=(0,D.Z)("all"),Pe=De.currentTab,Ce=De.onChangeTab,Re=function(e){var t=e.atmler,n=e.comparator,r=e.filterName,i=e.filterStatus,o=e.filterService,l=e.filterStartDate,a=e.filterEndDate,c=e.filteredAtmData,s=null===c||void 0===c?void 0:c.map((function(e,t){return[e,t]}));null===s||void 0===s||s.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=null===s||void 0===s?void 0:s.map((function(e){return e[0]})),r&&(t=null===t||void 0===t?void 0:t.filter((function(e){return-1!==e.Name.toLowerCase().indexOf(r.toLowerCase())||-1!==e.Name.toLowerCase().indexOf(r.toLowerCase())})));"all"!==i&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.status===i})));"all"!==o&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return e.service===o}))})));l&&a&&(t=null===t||void 0===t?void 0:t.filter((function(e){return e.createDate.getTime()>=l.getTime()&&e.createDate.getTime()<=a.getTime()})));return t}({atmler:t,filteredAtmData:we,comparator:(0,C.sQ)(B,L),filterName:oe,filterService:he,filterStatus:Pe,filterStartDate:me,filterEndDate:Ze}),ke=I?56:76,Ae=function(e){return null===we||void 0===we?void 0:we.filter((function(t){return t.status===e})).length},Te=function(e){return o()(null===we||void 0===we?void 0:we.filter((function(t){return t.status===e})),"totalPrice")},Fe=function(e){return Ae(e)/we.length*100},Ne=[{value:"all",label:"All",color:"info",count:null===we||void 0===we?void 0:we.length},{value:"paid",label:"\xc7evirimi\xe7i",color:"success",count:Ae("paid")},{value:"unpaid",label:"Kurulmam\u0131\u015f",color:"warning",count:Ae("unpaid")},{value:"overdue",label:"\xc7evirimd\u0131\u015f\u0131",color:"error",count:Ae("overdue")}];(0,l.useEffect)((function(){var e=null===t||void 0===t?void 0:t.filter((function(e){return ce?ce&&e.Name.includes(ce)?e:void 0:e}));ye(e)}),[ce]);var Ee=function(e){console.log(e)};return(0,r.jsx)(k.Z,{title:"Atm: Atmler",children:(0,r.jsxs)(s.Z,{maxWidth:!i&&"xlg",children:[(0,r.jsx)(N.Z,{heading:"ATMLER ",links:[(0,r.jsx)(r.Fragment,{})]}),we?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{sx:{mb:5},children:(0,r.jsx)(F.Z,{children:(0,r.jsxs)(d.Z,{direction:"row",divider:(0,r.jsx)(f.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,r.jsx)(W,{title:"Total",total:we.length,percent:100,price:o()(we,"totalPrice"),icon:"ic:round-receipt",color:n.palette.info.main}),(0,r.jsx)(W,{title:"\xc7evirimi\xe7i",total:we.filter((function(e){if(1!==e.IsActive)return e})).length,percent:Fe(we.IsActive),price:Te("paid"),icon:"eva:checkmark-circle-2-fill",color:n.palette.success.main}),(0,r.jsx)(W,{title:"Kurulmam\u0131\u015f",total:Ae("unpaid"),percent:Fe("unpaid"),price:Te("unpaid"),icon:"eva:clock-fill",color:n.palette.warning.main}),(0,r.jsx)(W,{title:"\xc7evirimd\u0131\u015f\u0131",total:Ae("overdue"),percent:Fe("overdue"),price:Te("overdue"),icon:"eva:bell-fill",color:n.palette.error.main})]})})}),(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(p.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Pe,onChange:Ce,sx:{px:2,bgcolor:"background.neutral"},children:Ne.map((function(e){return(0,r.jsx)(h.Z,{disableRipple:!0,value:e.value,icon:(0,r.jsxs)(A.Z,{color:e.color,children:[" ",e.count," "]}),label:e.label},e.value)}))}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(Y,{filterName:oe,filterService:he,filterStartDate:me,filterEndDate:Ze,setSearch:se,search:ce,onFilterName:function(e){le(e),K(0)},onFilterService:function(e){xe(e.target.value)},onFilterStartDate:function(e){ge(e)},onFilterEndDate:function(e){be(e)},optionsService:te}),(0,r.jsx)(F.Z,{children:(0,r.jsxs)(x.Z,{sx:{minWidth:800,position:"relative"},children:[Q.length>0&&(0,r.jsx)(E.Nl,{dense:I,numSelected:Q.length,rowCount:we.length,onSelectAllRows:function(e){return G(e,we.map((function(e){return e.id})))},actions:(0,r.jsxs)(d.Z,{spacing:1,direction:"row",children:[(0,r.jsx)(v.Z,{title:"CSV",children:(0,r.jsx)(m.Z,{color:"primary",children:(0,r.jsx)(T.Z,{icon:"bi:filetype-csv"})})}),(0,r.jsx)(v.Z,{title:"PDF",children:(0,r.jsx)(m.Z,{color:"primary",children:(0,r.jsx)(T.Z,{icon:"codicon:file-pdf"})})}),(0,r.jsx)(v.Z,{title:"Copy",children:(0,r.jsx)(m.Z,{color:"primary",children:(0,r.jsx)(T.Z,{icon:"clarity:update-line"})})}),(0,r.jsx)(v.Z,{title:"Yazd\u0131r",children:(0,r.jsx)(m.Z,{color:"primary",onClick:function(){return e=Q,t.filter((function(t){return!e.includes(t.id)})),void V([]);var e},children:(0,r.jsx)(T.Z,{icon:"cil:print"})})})]})}),(0,r.jsxs)(g.Z,{size:I?"small":"medium",children:[(0,r.jsx)(E.K,{order:B,orderBy:L,headLabel:ne,rowCount:we.length,numSelected:Q.length,onSort:H,onSelectAllRows:function(e){return G(e,we.map((function(e){return e.id})))}}),we?(0,r.jsxs)(j.Z,{children:[null===we||void 0===we?void 0:we.map((function(e){return(0,r.jsx)(_,{postTableData:Ee,setOpen:fe,open:de,row:e,selected:Q.includes(e.id),onSelectRow:function(){return q(e.id)},onViewRow:function(){return t=e.id,void R.push("/dashboard/invoices?id=".concat(t));var t},onEditRow:function(){return t=e.id,void R.push(y.vB.invoice.edit(t));var t},onDeleteRow:function(){return n=e.id,t.filter((function(e){return e.id!==n})),void V([]);var n}},e.id)})),(0,r.jsx)(E.$W,{height:ke,emptyRows:(0,C.fQ)(z,M,t.length)})]}):null]})]})}),(0,r.jsxs)(Z.Z,{sx:{position:"relative"},children:[(0,r.jsx)(b.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:Re.length,rowsPerPage:M,page:z,onPageChange:X,onRowsPerPageChange:re}),(0,r.jsx)(S.Z,{control:(0,r.jsx)(w.Z,{checked:I,onChange:$}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]}):null,(0,r.jsx)(ee,{open:de,setOpen:fe})]})})}re.getLayout=function(e){return(0,r.jsx)(R.Z,{children:e})}}}]);