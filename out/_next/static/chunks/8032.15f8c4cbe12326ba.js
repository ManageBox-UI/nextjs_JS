"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8032],{41323:function(e,t,n){n.d(t,{q1:function(){return C},H8:function(){return P},Ay:function(){return O},Vv:function(){return z},x3:function(){return f},jW:function(){return y}});var r=n(85893),o=n(45697),i=n.n(o),a=n(12786),c=n(11496);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=(0,c.ZP)(a.GI)((function(e){var t=e.theme,n="rtl"===t.direction;return{"& .mapboxgl-popup-content":{maxWidth:180,padding:t.spacing(1),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[800]},"& .mapboxgl-popup-close-button":{width:24,height:24,fontSize:16,opacity:.48,color:t.palette.common.white,right:n&&"0",left:n&&"auto","&:hover":{opacity:1},"&:focus":{outline:"none"}},"&.mapboxgl-popup-anchor-top .mapboxgl-popup-tip":{marginBottom:-1,borderBottomColor:t.palette.grey[800]},"&.mapboxgl-popup-anchor-right .mapboxgl-popup-tip":{marginLeft:-1,borderLeftColor:t.palette.grey[800]},"&.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip":{marginTop:-1,borderTopColor:t.palette.grey[800]},"&.mapboxgl-popup-anchor-left .mapboxgl-popup-tip":{marginRight:-1,borderRightColor:t.palette.grey[800]}}}));function f(e){var t=e.onClose,n=e.sx,o=e.children,i=l(e,["onClose","sx","children"]);return(0,r.jsx)(p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({tipSize:8,anchor:"bottom",onClose:t,closeButton:!0,closeOnClick:!1,sx:n},i,{children:o}))}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}f.propTypes={children:i().node,onClose:i().func,sx:i().object};var h=(0,c.ZP)("div")((function(e){var t=e.theme;return{zIndex:99,position:"absolute",left:t.spacing(1.5),bottom:t.spacing(3.5),boxShadow:t.customShadows.z8,"& .mapboxgl-ctrl":{border:"none",borderRadius:4,lineHeight:"14px",color:t.palette.common.white,backgroundImage:"linear-gradient(to right, #8a2387, #e94057, #f27121)"}}}));function y(e){var t=e.sx,n=g(e,["sx"]);return(0,r.jsx)(h,{sx:t,children:(0,r.jsx)(a.jf,b({maxWidth:100,unit:"imperial"},n))})}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}y.propTypes={sx:i().object};var v=(0,c.ZP)("svg")((function(e){return{height:20,stroke:"none",cursor:"pointer",fill:e.theme.palette.error.main,transform:"translate(".concat(-10,"px,").concat(-20,"px)")}}));function O(e){var t=e.onClick,n=d(e,["onClick"]);return(0,r.jsx)(a.Jx,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}({},n,{children:(0,r.jsx)(v,{viewBox:"0 0 24 24",onClick:t,children:(0,r.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}))}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}O.propTypes={onClick:i().func};var w=(0,c.ZP)(a.$j)((function(e){var t=e.theme;return{zIndex:99,borderRadius:8,overflow:"hidden",top:t.spacing(6),left:t.spacing(1.5),boxShadow:t.customShadows.z8}}));function P(e){var t=x({},e);return(0,r.jsx)(w,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0},t))}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,c.ZP)(a.ot)((function(e){var t=e.theme;return{zIndex:99,borderRadius:8,overflow:"hidden",top:t.spacing(1.5),left:t.spacing(1.5),boxShadow:t.customShadows.z8,"& span.mapboxgl-ctrl-icon":{transform:" scale(0.75)"}}}));function C(e){return(0,r.jsx)(k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},e))}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var Z=(0,c.ZP)(a.Pv)((function(e){var t=e.theme;return{zIndex:99,borderRadius:8,overflow:"hidden",bottom:t.spacing(6),left:t.spacing(1.5),boxShadow:t.customShadows.z8,"& button+button":{borderTop:"1px solid ".concat(t.palette.divider)}}}));function z(e){var t=N({},e);return(0,r.jsx)(Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}({},t))}},18032:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(85893),o=n(67294);function i(e){return null===e?NaN:+e}function a(e,t,n=i){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,a=Math.floor(o),c=+n(e[a],a,e);return c+(+n(e[a+1],a+1,e)-c)*(o-a)}}function c(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u(e){let t=e,n=e,r=e;function o(e,t,o=0,i=e.length){if(o<i){if(0!==n(t,t))return i;do{const n=o+i>>>1;r(e[n],t)<0?o=n+1:i=n}while(o<i)}return o}return 2!==e.length&&(t=(t,n)=>e(t)-n,n=c,r=(t,n)=>c(e(t),n)),{left:o,center:function(e,n,r=0,i=e.length){const a=o(e,n,r,i-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,o=0,i=e.length){if(o<i){if(0!==n(t,t))return i;do{const n=o+i>>>1;r(e[n],t)<=0?o=n+1:i=n}while(o<i)}return o}}}const l=u(c),p=l.right;l.left,u(i).center;var f=p;function s(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function b(){var e,t=[],n=[],r=[];function o(){var e=0,o=Math.max(1,n.length);for(r=new Array(o-1);++e<o;)r[e-1]=a(t,e/o);return i}function i(t){return null==t||isNaN(t=+t)?e:n[f(r,t)]}return i.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(c),o()},i.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return b().domain(t).range(n).unknown(e)},s.apply(i,arguments)}var g=n(12786),h=n(2734),y=n(41796),m=n(87357),d=n(15861),v=n(41323),O=n(45697),j=n.n(O),x=n(11496),w=n(64986),P=n(71264);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,x.ZP)("div")((function(e){var t=e.theme;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},(0,P.Z)().bgBlur({color:t.palette.grey[900]}),{zIndex:99,minWidth:200,position:"absolute",top:t.spacing(1),right:t.spacing(1),padding:t.spacing(2),borderRadius:t.shape.borderRadius})}));function C(e){var t=e.year,n=e.onChange;return(0,r.jsxs)(k,{children:[(0,r.jsxs)(d.Z,{variant:"body2",sx:{color:"common.white"},children:["Year: ",t]}),(0,r.jsx)(w.ZP,{name:"year",value:t,step:1,min:1995,max:2015,onChange:function(e,t){"number"===typeof t&&n(t)}})]})}C.propTypes={year:j().number,onChange:j().func};var E=(0,o.memo)(C);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function I(e,t){var n=e.features,r=b().domain(n.map(t)).range(function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(9));return{type:"FeatureCollection",features:n.map((function(e){var n=t(e),o=z({},e.properties,{value:n,percentile:r(n)});return z({},e,{properties:o})}))}}function R(e){var t=Z({},e),n=(0,h.Z)(),i=(0,o.useState)({latitude:40,longitude:-100,zoom:3,bearing:0,pitch:0}),a=i[0],c=i[1],u=(0,o.useState)(2010),l=u[0],p=u[1],f=(0,o.useState)(null),s=f[0],b=f[1],O=(0,o.useState)(null),j=O[0],x=O[1],w={id:"data",type:"fill",paint:{"fill-color":{property:"percentile",stops:[[0,n.palette.primary.light],[1,n.palette.primary.main],[2,n.palette.info.light],[3,n.palette.info.main],[4,n.palette.warning.light],[5,n.palette.warning.main],[6,n.palette.error.light],[7,n.palette.error.light],[8,n.palette.primary.dark]]},"fill-opacity":.72}};(0,o.useEffect)((function(){fetch("https://raw.githubusercontent.com/uber/react-map-gl/master/examples/.data/us-income.geojson").then((function(e){return e.json()})).then((function(e){return b(e)}))}),[]);var P=(0,o.useCallback)((function(e){var t=e.srcEvent,n=e.features&&e.features[0];x(n?{feature:n,x:t.offsetX,y:t.offsetY}:null)}),[]),S=(0,o.useMemo)((function(){return s&&I(s,(function(e){return e.properties.income[l]}))}),[s,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g.ZP,z({},a,{onViewportChange:c,interactiveLayerIds:["data"],onHover:P},t,{children:[(0,r.jsx)(v.jW,{}),(0,r.jsx)(v.Vv,{}),(0,r.jsx)(v.q1,{}),(0,r.jsx)(v.H8,{}),(0,r.jsx)(g.Hw,{type:"geojson",data:S,children:(0,r.jsx)(g.mh,z({},w))}),j&&(0,r.jsxs)(m.Z,{sx:{p:1,zIndex:99,borderRadius:1,position:"absolute",pointerEvents:"none",color:"common.white",backgroundColor:(0,y.Fq)(n.palette.grey[900],.8)},style:{left:j.x,top:j.y},children:[(0,r.jsxs)(d.Z,{component:"div",variant:"caption",children:[(0,r.jsx)("strong",{children:"State:"})," ",j.feature.properties.name]}),(0,r.jsxs)(d.Z,{component:"div",variant:"caption",children:[(0,r.jsx)("strong",{children:" Median Household Income: "}),j.feature.properties.value]}),(0,r.jsxs)(d.Z,{component:"div",variant:"caption",children:[(0,r.jsx)("strong",{children:"Percentile:"}),j.feature.properties.percentile/8*100]})]})]})),(0,r.jsx)(E,{year:l,onChange:function(e){return p(e)}})]})}}}]);